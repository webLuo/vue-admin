<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    var obj = [
      {
        role: ['admin']
      },
      {
        role: ['admin'],
        children: [
          {
            role: ['user', 'admin']
          },
          {
            role: ['user']
          },
          {
            role: ['tech', 'admin']
          }
        ]
      },
      {
        role: ['admin', 'tech'],
        children: [
          {
            role: ['user']
          },
          {
            role: ['user', 'tech']
          }
        ]
      },
    ]
    var filterArr = [];
    function filterRole(obj) {
      filterArr = obj.filter(item => {
        if (item.role.includes('tech')) {
          if (item.children && item.children.length) {
            item.children = filterRole(item.children)
          }
          return true
        }
        return false
      })
      return filterArr
    }
    filterRole(obj)
    console.log(filterArr)


    var i = 0;
    function f1() {
      i++;
      if (i < 5) {
        f1()
      }
      console.log("从前有个山，山里有个庙，庙里有个老和尚给小和尚讲故事！")
    }
    f1()

    function getSum(x) {
      if (x == 1) {
        return 1;
      }
      return x + getSum(x - 1)
    }
    var sum = getSum(5)
    console.log(sum);
  </script>
</body>

</html>